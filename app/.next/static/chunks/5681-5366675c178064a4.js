"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5681],{6413:function(e,t,r){r.d(t,{AuthProvider:function(){return i},a:function(){return c}});var n=r(7437),s=r(2265);let a=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o(!1)},[]);let l=async(e,t)=>!1,d=async e=>!1;return(0,n.jsx)(a.Provider,{value:{user:r,loading:c,login:l,logout:()=>{i(null)},register:d},children:t})}function c(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8119:function(e,t,r){r.d(t,{y:function(){return p}});var n=r(7437),s=r(2265),a=r(1723),i=r(1671),c=r(6865),o=r(8617),l=r(8226),d=r(1047),u=r(6070),f=r(5974),x=r(2869),m=r(6413),h=r(7648);function p(){let{user:e}=(0,m.a)(),[t,r]=(0,s.useState)(null),[p,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{e&&v()},[e]);let v=async()=>{try{let e=await fetch("/api/subscriptions/status");if(e.ok){let t=await e.json();r(t)}}catch(e){console.error("Failed to fetch subscription info:",e)}finally{g(!1)}},b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return p?(0,n.jsxs)(u.Zb,{children:[(0,n.jsx)(u.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"h-5 w-5 bg-gray-200 rounded animate-pulse"}),(0,n.jsx)("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})]})}),(0,n.jsx)(u.aY,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),(0,n.jsx)("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"})]})})]}):(0,n.jsxs)(u.Zb,{children:[(0,n.jsxs)(u.Ol,{children:[(0,n.jsxs)(u.ll,{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{if(!t)return(0,n.jsx)(a.Z,{className:"h-5 w-5 text-gray-400"});switch(t.status){case"active":return(0,n.jsx)(i.Z,{className:"h-5 w-5 text-green-500"});case"trialing":return(0,n.jsx)(a.Z,{className:"h-5 w-5 text-orange-500"});case"past_due":return(0,n.jsx)(c.Z,{className:"h-5 w-5 text-red-500"});case"canceled":return(0,n.jsx)(c.Z,{className:"h-5 w-5 text-gray-500"});default:return(0,n.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}})(),(0,n.jsx)("span",{children:"Subscription Status"})]}),(()=>{if(!t)return(0,n.jsx)(f.C,{variant:"outline",children:"Free Plan"});switch(t.status){case"active":return(0,n.jsx)(f.C,{variant:"default",className:"bg-green-600",children:"Active"});case"trialing":return(0,n.jsx)(f.C,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Trial"});case"past_due":return(0,n.jsx)(f.C,{variant:"destructive",children:"Past Due"});case"canceled":return(0,n.jsx)(f.C,{variant:"secondary",children:"Canceled"});default:return(0,n.jsx)(f.C,{variant:"outline",children:"Inactive"})}})()]}),(0,n.jsx)(u.SZ,{children:(()=>{if(!t)return"You are currently on the free plan with limited features.";switch(t.status){case"active":if(t.cancelAtPeriodEnd)return"Your subscription will end on ".concat(b(t.currentPeriodEnd),".");return"Your subscription will renew on ".concat(b(t.currentPeriodEnd),".");case"trialing":return"Your free trial ends on ".concat(b(t.trialEnd||t.currentPeriodEnd),".");case"past_due":return"Your payment is overdue. Please update your payment method to continue service.";case"canceled":return"Your subscription has been canceled. You can reactivate it at any time.";default:return"Your subscription status is unclear. Please contact support."}})()})]}),(0,n.jsxs)(u.aY,{children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Current Plan"}),(0,n.jsx)("span",{className:"font-medium",children:(()=>{if(!(null==t?void 0:t.planType))return"Free Plan";switch(t.planType){case"starter":return"Starter Plan";case"professional":return"Professional Plan";case"enterprise":return"Enterprise Plan";default:return"Unknown Plan"}})()})]}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"Status"}),(0,n.jsx)("span",{className:"font-medium capitalize",children:t.status})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-gray-600",children:"trialing"===t.status?"Trial Ends":t.cancelAtPeriodEnd?"Ends":"Renews"}),(0,n.jsx)("span",{className:"font-medium",children:b(t.trialEnd||t.currentPeriodEnd)})]})]})]}),(0,n.jsx)("div",{className:"mt-6 flex gap-3",children:t&&"canceled"!==t.status?(0,n.jsxs)(n.Fragment,{children:["past_due"===t.status&&(0,n.jsx)(h.default,{href:"/dashboard/subscription",children:(0,n.jsxs)(x.z,{className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Update Payment"]})}),(0,n.jsx)(h.default,{href:"/dashboard/subscription",children:(0,n.jsxs)(x.z,{variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Manage Subscription"]})})]}):(0,n.jsx)(h.default,{href:"/dashboard/subscription",children:(0,n.jsxs)(x.z,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})})}),(null==t?void 0:t.cancelAtPeriodEnd)&&(0,n.jsx)("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:(0,n.jsxs)("p",{className:"text-sm text-orange-800",children:[(0,n.jsx)(c.Z,{className:"h-4 w-4 inline mr-2"}),"Your subscription is set to cancel at the end of the current period."]})})]})]})}},5974:function(e,t,r){r.d(t,{C:function(){return c}});var n=r(7437);r(2265);var s=r(7712),a=r(4508);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...s})}},2869:function(e,t,r){r.d(t,{z:function(){return l}});var n=r(7437),s=r(2265),a=r(7053),i=r(7712),c=r(4508);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});l.displayName="Button"},6070:function(e,t,r){r.d(t,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=r(7437),s=r(2265),a=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},5153:function(e,t,r){r.d(t,{pm:function(){return f}});var n=r(2265);let s=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function d(e){l=c(l,e),o.forEach(e=>{e(l)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(l);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},4508:function(e,t,r){r.d(t,{cn:function(){return a}});var n=r(1994),s=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}}}]);