(()=>{var e={};e.id=274,e.ids=[274],e.modules={979:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var s=a(21859),t=a(17590),n=a(54303),i=a(61257),o=a(92208),l=a(2270),c=a(52053),d=a(10116);!function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}();var u=a(14738),m=a.n(u);!function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}();var h=a(5070);function x(){let{user:e,loading:r}=(0,n.A)();(0,i.useRouter)();let{toast:a}=(0,h.dj)(),[u,x]=(0,t.useState)([]),[p,f]=(0,t.useState)(!0),[b,g]=(0,t.useState)(""),[j,N]=(0,t.useState)(""),[v,C]=(0,t.useState)(1),[y,_]=(0,t.useState)(1),[E,w]=(0,t.useState)(null),O=async(e,r)=>{w(e);try{if((await fetch(`/api/bookings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:r})})).ok)x(u.map(a=>a.id===e?{...a,status:r}:a)),a({title:"Booking updated",description:`Booking has been ${r.toLowerCase()}.`});else throw Error("Failed to update booking")}catch(e){a({title:"Error",description:"Failed to update booking status. Please try again.",variant:"destructive"})}finally{w(null)}},D=e=>{switch(e){case"CONFIRMED":return(0,s.jsx)(c.E,{className:"bg-green-600",children:"Confirmed"});case"PENDING":return(0,s.jsx)(c.E,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Pending"});case"CANCELLED":return(0,s.jsx)(c.E,{variant:"destructive",children:"Cancelled"});case"COMPLETED":return(0,s.jsx)(c.E,{variant:"secondary",children:"Completed"});default:return(0,s.jsx)(c.E,{variant:"outline",children:e})}},k=e=>{switch(e){case"PAID":return(0,s.jsx)(c.E,{className:"bg-green-600",children:"Paid"});case"PENDING":return(0,s.jsx)(c.E,{variant:"outline",className:"border-orange-500 text-orange-700",children:"Pending"});case"FAILED":return(0,s.jsx)(c.E,{variant:"destructive",children:"Failed"});case"REFUNDED":return(0,s.jsx)(c.E,{variant:"secondary",children:"Refunded"});default:return(0,s.jsx)(c.E,{variant:"outline",children:e})}},P=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r||!e?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-orange-600"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(m(),{href:"/dashboard",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Back to Dashboard"})]}),(0,s.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-6 w-6 text-orange-600"}),(0,s.jsx)("span",{className:"text-xl font-semibold text-gray-900",children:"Bookings"})]})]}),(0,s.jsx)(c.E,{variant:"secondary",children:"Dashboard"})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Venue Bookings"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage all bookings for your venues"})]}),(0,s.jsx)(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"bg-white rounded-lg shadow-sm p-6 mb-6 border",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,s.jsx)(d.p,{placeholder:"Search bookings...",value:b,onChange:e=>g(e.target.value),className:"pl-10 border-gray-200 focus:border-orange-500 focus:ring-orange-500"})]}),(0,s.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-md focus:border-orange-500 focus:ring-orange-500 bg-white",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"PENDING",children:"Pending"}),(0,s.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,s.jsx)("option",{value:"CANCELLED",children:"Cancelled"}),(0,s.jsx)("option",{value:"COMPLETED",children:"Completed"})]}),(0,s.jsx)(l.$,{onClick:()=>{g(""),N(""),C(1)},variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:"Clear Filters"})]})}),(0,s.jsxs)(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:[p?(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,s.jsx)(o.Zp,{className:"animate-pulse",children:(0,s.jsx)(o.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-3 w-24 bg-gray-200 rounded"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-6 w-16 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-8 w-20 bg-gray-200 rounded"})]})]})})},e))}):0===u.length?(0,s.jsx)(o.Zp,{children:(0,s.jsxs)(o.Wu,{className:"text-center py-12",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bookings found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have any bookings yet or none match your search criteria."}),(0,s.jsx)(m(),{href:"/dashboard/venues",children:(0,s.jsx)(l.$,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Manage Venues"})})]})}):(0,s.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,s.jsx)(o.Zp,{className:"hover:shadow-lg transition-shadow",children:(0,s.jsx)(o.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-100 rounded-full",children:(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-6 w-6 text-orange-600"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.customerName}),D(e.status),k(e.paymentStatus)]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:e.venue.name})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[P(e.startTime)," - ",P(e.endTime)]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("span",{className:"font-medium",children:["Total: $",e.totalAmount]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.customerEmail})]}),e.customerPhone&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.customerPhone})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Booked on ",M(e.createdAt)]})]})]}),e.notes&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,s.jsx)("span",{className:"font-medium",children:"Notes:"})," ",e.notes]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:["PENDING"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.$,{size:"sm",onClick:()=>O(e.id,"CONFIRMED"),disabled:E===e.id,className:"bg-green-600 hover:bg-green-700 text-white",children:E===e.id?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4 mr-1"}),"Confirm"]})}),(0,s.jsxs)(l.$,{size:"sm",variant:"destructive",onClick:()=>O(e.id,"CANCELLED"),disabled:E===e.id,children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4 mr-1"}),"Cancel"]})]}),"CONFIRMED"===e.status&&(0,s.jsxs)(l.$,{size:"sm",onClick:()=>O(e.id,"COMPLETED"),disabled:E===e.id,className:"bg-orange-600 hover:bg-orange-700 text-white",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4 mr-1"}),"Mark Complete"]}),(0,s.jsxs)(l.$,{size:"sm",variant:"outline",className:"border-orange-200 text-orange-700 hover:bg-orange-50",children:[(0,s.jsx)(Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=ArrowLeft,CalendarDays,CheckCircle,Clock,Eye,Mail,MapPin,Phone,Search,XCircle!=!lucide-react'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-4 w-4 mr-1"}),"View Details"]})]})]})})},e.id))}),y>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Page ",v," of ",y]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>C(Math.max(1,v-1)),disabled:1===v,children:"Previous"}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>C(Math.min(y,v+1)),disabled:v===y,children:"Next"})]})]})]})]})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10116:(e,r,a)=>{"use strict";a.d(r,{p:()=>i});var s=a(21859),t=a(17590),n=a(39785);let i=t.forwardRef(({className:e,type:r,...a},t)=>(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));i.displayName="Input"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32462:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(89027),t=a(85420),n=a(24494),i=a.n(n),o=a(7513),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(r,l);let c={children:["",{children:["dashboard",{children:["bookings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,64889)),"/home/ubuntu/sully-booking-system-production/app/app/dashboard/bookings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,20201)),"/home/ubuntu/sully-booking-system-production/app/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,54790)),"/home/ubuntu/sully-booking-system-production/app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,44858,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,84699,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,70496,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/home/ubuntu/sully-booking-system-production/app/app/dashboard/bookings/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/bookings/page",pathname:"/dashboard/bookings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},60443:(e,r,a)=>{Promise.resolve().then(a.bind(a,979))},61257:(e,r,a)=>{"use strict";var s=a(55001);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64889:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});let s=(0,a(40207).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/ubuntu/sully-booking-system-production/app/app/dashboard/bookings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/ubuntu/sully-booking-system-production/app/app/dashboard/bookings/page.tsx","default")},88815:(e,r,a)=>{"use strict";a.d(r,{s:()=>n,t:()=>t});var s=a(17590);function t(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}function n(...e){return s.useCallback(t(...e),e)}},88834:(e,r,a)=>{"use strict";a.d(r,{DX:()=>i});var s=a(17590),t=a(88815),n=a(21859),i=s.forwardRef((e,r)=>{let{children:a,...t}=e,i=s.Children.toArray(a),l=i.find(c);if(l){let e=l.props.children,a=i.map(r=>r!==l?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,n.jsx)(o,{...t,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,n.jsx)(o,{...t,ref:r,children:a})});i.displayName="Slot";var o=s.forwardRef((e,r)=>{let{children:a,...n}=e;if(s.isValidElement(a)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=r&&"isReactWarning"in r&&r.isReactWarning;return a?e.ref:(a=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a);return s.cloneElement(a,{...function(e,r){let a={...r};for(let s in r){let t=e[s],n=r[s];/^on[A-Z]/.test(s)?t&&n?a[s]=(...e)=>{n(...e),t(...e)}:t&&(a[s]=t):"style"===s?a[s]={...t,...n}:"className"===s&&(a[s]=[t,n].filter(Boolean).join(" "))}return{...e,...a}}(n,a.props),ref:r?(0,t.t)(r,e):e})}return s.Children.count(a)>1?s.Children.only(null):null});o.displayName="SlotClone";var l=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});function c(e){return s.isValidElement(e)&&e.type===l}},94787:(e,r,a)=>{Promise.resolve().then(a.bind(a,64889))}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[4055,900,7012,4738,459],()=>a(32462));module.exports=s})();